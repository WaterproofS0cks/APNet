{% extends "header-b.html" %}
{% block title %}Profile{% endblock title %}
{% block content %}
<script type="text/javascript" src="{{ url_for('static', filename='scripts/PostFunction.js') }}" data-type="post" data-page="self" data-container="forumContainer" defer></script>
<script type="text/javascript" src="{{ url_for('static', filename='scripts/PostFunction.js') }}" data-type="recruitment" data-page="self" data-container="recruitmentContainer" defer></script>

<body>
    <div class="content-card">
        <div class="profile">
            <div class="profile-img">
                <img src="{{ session.get('pfp') }}" alt="User Profile">
            </div>
            <div class="profile-desc">
                <h2>{{ name }}</h2>
                <p>{{ bio }}</p>
            </div>
            <div class="profile-btn">
                <div class="profile-btn-group">
                    <a href="settings" class="btn-icon">
                        <img src="{{ url_for('static', filename='src/icon/icons8-settings-96.png') }}" alt="Settings Icon">
                    </a>
                </div>
                {% if link %}
                <a href="{{ link }}" target="_blank" style="text-decoration: none;">
                    <button class="button-black">
                        <img src="{{ url_for('static', filename='src/icon/icons8-link-96.png') }}" alt="Add Icon">External Link
                    </button>
                </a>
                {% endif %}
            </div>
        </div>
        
        <div class="navigation">
            <a href="likes" class="button-black" style="text-decoration: none;">Likes</a>
            <a href="bookmarks" class="button-black" style="text-decoration: none;">Bookmarks</a>
            <a href="applications" class="button-black" style="text-decoration: none;">Applications</a>
        </div>


        <div class="horizontal-line"></div>


        <div class="tabs">
            <button class="tablink" onclick="openTab(event, 'Forum')">Forum</button>
            <button class="tablink" onclick="openTab(event, 'Recruitment')">Recruitment</button>
        </div>
        
        <div id="Forum" class="tabcontent">
            <!-- This is a forum post -->
            <div class = "profile-fm-main-container" id="forumContainer">
            </div>
        </div>
    
        <div id="Recruitment" class="tabcontent">
            <!-- This is a recruitment post -->
            <div class = "profile-rc-main-container" id="recruitmentContainer">
            </div>
        </div>


        <!-- <div class="profile-fm-main-container" id="postContainer">
            <div id="no-more-posts" style="display: none; text-align: center; font-size: 20px;">You have not posted anything yet :D</div>
        </div> -->

    </div>

    <script>
        function openTab(evt, tabName) {
            var tabContents = document.querySelectorAll(".tabcontent");
            tabContents.forEach(function(content) {
                content.classList.remove("active");
            });

            var tabLinks = document.querySelectorAll(".tablink");
            tabLinks.forEach(function(link) {
                link.classList.remove("active");
            });

            document.getElementById(tabName).classList.add("active");

            evt.currentTarget.classList.add("active");
        }

        document.querySelector(".tablink").click();
    </script>
</body>
{% endblock content %}